<!-- Accountant Document Review and Approval Page -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accountant Document Review - LTS Manager</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="./company_layout.css">
    <style>
        /* Accountant document review specific styles */
        .header-container {
            background-color: #17a2b8;
            color: white;
            padding: 15px 30px;
            border-radius: 8px;
            margin-bottom: 25px;
        }
        .content-container {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
            padding: 30px;
            margin-bottom: 20px;
        }
        .required-field::after {
            content: "*";
            color: red;
            margin-left: 3px;
        }
        .document-card {
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin-bottom: 15px;
            transition: all 0.3s;
        }
        .document-card:hover {
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            border-color: #adb5bd;
        }
        .document-card.verified {
            border-left: 4px solid #28a745;
        }
        .document-card.rejected {
            border-left: 4px solid #dc3545;
        }
        .document-card.pending {
            border-left: 4px solid #ffc107;
        }
        .document-header {
            padding: 12px 15px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .document-body {
            padding: 15px;
        }
        .document-footer {
            padding: 12px 15px;
            background-color: #f8f9fa;
            border-top: 1px solid #dee2e6;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }
        .tab-pane {
            padding: 20px 0;
        }
        .status-badge {
            padding: 5px 10px;
            border-radius: 15px;
            font-weight: 600;
            display: inline-block;
            font-size: 0.8rem;
        }
        .signature-pad {
            border: 1px solid #dee2e6;
            border-radius: 4px;
            width: 100%;
            height: 120px;
            background-color: #fff;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }
        .signature-pad.signed {
            background-color: #f8f9fa;
            color: #6c757d;
        }
        .nav-pills .nav-link.active {
            background-color: #17a2b8;
        }
        .filters-container {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .document-action-buttons .btn {
            margin-right: 8px;
        }
        .document-action-buttons .btn:last-child {
            margin-right: 0;
        }
    </style>
</head>
<body>
    <!-- Top Navbar -->
    <div class="top-navbar">
        <div class="brand">
            <i class="fas fa-cube me-2"></i> LTS MANAGER
        </div>
        <div class="d-flex align-items-center">
            <button class="icon-button me-2">
                <i class="fas fa-bell"></i>
            </button>
            <button class="icon-button me-3">
                <i class="fas fa-cog"></i>
            </button>
            <div class="user-avatar">
                TD
            </div>
        </div>
    </div>

    <!-- Sidebar Navigation -->
    <div class="sidebar">
        <ul class="nav flex-column">            
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-calendar-alt"></i> Quản lý ngày nghỉ
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-users"></i> Quản lý QT
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-tasks"></i> Quản lý dự án
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-clock"></i> Chấm công
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-chart-line"></i> Đánh giá định kỳ
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#">
                    <i class="fas fa-graduation-cap"></i> Quản lý kỹ năng
                </a>
            </li>
            <!-- Procurement Section -->
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="procurementDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                    <i class="fas fa-shopping-cart"></i> Procurement
                </a>
                <ul class="dropdown-menu" aria-labelledby="procurementDropdown">
                    <li><a class="dropdown-item" href="index.html">
                        <i class="fas fa-file-alt"></i> Request List
                    </a></li>
                    <li><a class="dropdown-item" href="purchase_list.html">
                        <i class="fas fa-shopping-bag"></i> Purchase List
                    </a></li>
                    <li><a class="dropdown-item" href="supplier_select.html">
                        <i class="fas fa-users"></i> Suppliers Select</a></li>
                    <li><a class="dropdown-item" href="it_review_list.html">
                        <i class="fas fa-laptop"></i> IT Review Queue</a></li>
                    <li><a class="dropdown-item" href="dl_payment_confirmation_list.html">
                        <i class="fas fa-truck"></i> DL Confirm Payment</a></li>
                    <li><a class="dropdown-item" href="accountant_document_review.html">
                        <i class="fas fa-list"></i> Document Review</a></li>
                    <li><a class="dropdown-item" href="advance_payment_approval_page.html">
                        <i class="fas fa-receipt"></i> Advance Payment Approval</a></li>                    <li><a class="dropdown-item" href="accountant_reimbursement_approval.html">
                        <i class="fas fa-calculator"></i> Reimbursement Processing</a></li>
                    <li><a class="dropdown-item" href="supplier_management.html">
                        <i class="fas fa-building"></i> Supplier Management</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <!-- Main Content -->
    <div class="main-content">
        <div class="header-container">
            <h1>Accountant Document Review</h1>
            <p class="mb-0">Review and approve procurement documents for payment processing</p>
        </div>
        
        <!-- Dashboard Summary -->
        <div class="content-container">
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="card text-white bg-primary">
                        <div class="card-body text-center">
                            <h5 class="card-title">Pending Review</h5>
                            <h2 class="mb-0">12</h2>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-success">
                        <div class="card-body text-center">
                            <h5 class="card-title">Approved</h5>
                            <h2 class="mb-0">45</h2>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-danger">
                        <div class="card-body text-center">
                            <h5 class="card-title">Rejected</h5>
                            <h2 class="mb-0">3</h2>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="card text-white bg-info">
                        <div class="card-body text-center">
                            <h5 class="card-title">Total Processed</h5>
                            <h2 class="mb-0">60</h2>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Filters -->
            <div class="filters-container">
                <div class="row g-3">
                    <div class="col-md-3">
                        <label for="statusFilter" class="form-label">Status</label>
                        <select class="form-select" id="statusFilter">
                            <option value="all" selected>All</option>
                            <option value="pending">Pending Review</option>
                            <option value="approved">Approved</option>
                            <option value="rejected">Rejected</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="documentTypeFilter" class="form-label">Document Type</label>
                        <select class="form-select" id="documentTypeFilter">
                            <option value="all" selected>All Types</option>
                            <option value="invoice">Invoices</option>
                            <option value="contract">Contracts</option>
                            <option value="po">Purchase Orders</option>
                            <option value="receipt">Receipts</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="dateFilter" class="form-label">Date Range</label>
                        <select class="form-select" id="dateFilter">
                            <option value="all" selected>All Time</option>
                            <option value="today">Today</option>
                            <option value="week">This Week</option>
                            <option value="month">This Month</option>
                            <option value="custom">Custom Range</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <label for="searchFilter" class="form-label">Search</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="searchFilter" placeholder="Search...">
                            <button class="btn btn-outline-secondary" type="button">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Document Review Tabs -->
        <div class="content-container">
            <ul class="nav nav-pills mb-3" id="documentTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active" id="pending-tab" data-bs-toggle="pill" data-bs-target="#pending-docs" type="button" role="tab" aria-controls="pending-docs" aria-selected="true">
                        <i class="fas fa-clock me-2"></i>Pending Review (12)
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="approved-tab" data-bs-toggle="pill" data-bs-target="#approved-docs" type="button" role="tab" aria-controls="approved-docs" aria-selected="false">
                        <i class="fas fa-check-circle me-2"></i>Approved (45)
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link" id="rejected-tab" data-bs-toggle="pill" data-bs-target="#rejected-docs" type="button" role="tab" aria-controls="rejected-docs" aria-selected="false">
                        <i class="fas fa-times-circle me-2"></i>Rejected (3)
                    </button>
                </li>
            </ul>
            
            <div class="tab-content" id="documentTabsContent">
                <!-- Pending Documents Tab -->
                <div class="tab-pane fade show active" id="pending-docs" role="tabpanel" aria-labelledby="pending-tab">
                    <!-- Document 1 -->
                    <div class="document-card pending">
                        <div class="document-header">
                            <div>
                                <h5 class="mb-0">Contract: CONT-2025-0128</h5>
                                <small class="text-muted">TechPro Solutions - IT Equipment Purchase</small>
                            </div>
                            <span class="badge bg-warning status-badge">Pending Review</span>
                        </div>
                        <div class="document-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Submission Date:</strong> May 29, 2025</p>
                                    <p class="mb-1"><strong>Submitted By:</strong> Sarah Johnson</p>
                                    <p class="mb-1"><strong>Department:</strong> IT</p>
                                    <p class="mb-0"><strong>Document Type:</strong> Contract</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Contract Amount:</strong> $7,500.00</p>
                                    <p class="mb-1"><strong>Payment Terms:</strong> Net 30</p>
                                    <p class="mb-1"><strong>Due Date:</strong> July 5, 2025</p>
                                    <p class="mb-0"><strong>Budget Code:</strong> IT-EQUIP-2025</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-2"><strong>Attached Files:</strong></p>
                                    <div class="list-group" style="font-size: 0.9rem;">
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center py-1">
                                            <i class="fas fa-file-pdf text-danger me-2"></i> Contract_CONT-2025-0128.pdf
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center py-1">
                                            <i class="fas fa-file-invoice text-primary me-2"></i> Invoice_TPS_8765.pdf
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center py-1">
                                            <i class="fas fa-file-excel text-success me-2"></i> Quote_Comparison.xlsx
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="document-footer">
                            <div class="d-flex justify-content-end">
                                <button class="btn btn-outline-secondary me-2" data-bs-toggle="modal" data-bs-target="#documentDetailsModal">
                                    <i class="fas fa-eye me-1"></i> View Details
                                </button>
                                <button class="btn btn-danger me-2" data-bs-toggle="modal" data-bs-target="#rejectModal">
                                    <i class="fas fa-times-circle me-1"></i> Reject
                                </button>
                                <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#approveModal">
                                    <i class="fas fa-check-circle me-1"></i> Approve
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Document 2 -->
                    <div class="document-card pending">
                        <div class="document-header">
                            <div>
                                <h5 class="mb-0">Invoice: INV-OF-4532</h5>
                                <small class="text-muted">Office Supplies Pro - Office Supplies</small>
                            </div>
                            <span class="badge bg-warning status-badge">Pending Review</span>
                        </div>
                        <div class="document-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Submission Date:</strong> May 28, 2025</p>
                                    <p class="mb-1"><strong>Submitted By:</strong> Lisa Wong</p>
                                    <p class="mb-1"><strong>Department:</strong> Office Admin</p>
                                    <p class="mb-0"><strong>Document Type:</strong> Invoice</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Invoice Amount:</strong> $1,250.00</p>
                                    <p class="mb-1"><strong>Payment Terms:</strong> Net 15</p>
                                    <p class="mb-1"><strong>Due Date:</strong> June 12, 2025</p>
                                    <p class="mb-0"><strong>Budget Code:</strong> ADMIN-SUPP-2025</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-2"><strong>Attached Files:</strong></p>
                                    <div class="list-group" style="font-size: 0.9rem;">
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center py-1">
                                            <i class="fas fa-file-invoice text-primary me-2"></i> Invoice_OSP_4532.pdf
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center py-1">
                                            <i class="fas fa-file-pdf text-danger me-2"></i> Delivery_Note.pdf
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="document-footer">
                            <div class="d-flex justify-content-end">
                                <button class="btn btn-outline-secondary me-2">
                                    <i class="fas fa-eye me-1"></i> View Details
                                </button>
                                <button class="btn btn-danger me-2">
                                    <i class="fas fa-times-circle me-1"></i> Reject
                                </button>
                                <button class="btn btn-success">
                                    <i class="fas fa-check-circle me-1"></i> Approve
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Document 3 -->
                    <div class="document-card pending">
                        <div class="document-header">
                            <div>
                                <h5 class="mb-0">Purchase Order: PO-2025-0321</h5>
                                <small class="text-muted">Furniture World - Office Furniture</small>
                            </div>
                            <span class="badge bg-warning status-badge">Pending Review</span>
                        </div>
                        <div class="document-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Submission Date:</strong> May 27, 2025</p>
                                    <p class="mb-1"><strong>Submitted By:</strong> Michael Chen</p>
                                    <p class="mb-1"><strong>Department:</strong> Facilities</p>
                                    <p class="mb-0"><strong>Document Type:</strong> Purchase Order</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>PO Amount:</strong> $4,800.00</p>
                                    <p class="mb-1"><strong>Payment Terms:</strong> 50% Deposit</p>
                                    <p class="mb-1"><strong>Due Date:</strong> June 10, 2025</p>
                                    <p class="mb-0"><strong>Budget Code:</strong> FAC-FURN-2025</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-2"><strong>Attached Files:</strong></p>
                                    <div class="list-group" style="font-size: 0.9rem;">
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center py-1">
                                            <i class="fas fa-file-alt text-primary me-2"></i> PO-2025-0321.pdf
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center py-1">
                                            <i class="fas fa-file-pdf text-danger me-2"></i> Furniture_Quote.pdf
                                        </a>
                                        <a href="#" class="list-group-item list-group-item-action d-flex align-items-center py-1">
                                            <i class="fas fa-file-image text-info me-2"></i> Furniture_Specs.jpg
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="document-footer">
                            <div class="d-flex justify-content-end">
                                <button class="btn btn-outline-secondary me-2">
                                    <i class="fas fa-eye me-1"></i> View Details
                                </button>
                                <button class="btn btn-danger me-2">
                                    <i class="fas fa-times-circle me-1"></i> Reject
                                </button>
                                <button class="btn btn-success">
                                    <i class="fas fa-check-circle me-1"></i> Approve
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Approved Documents Tab -->
                <div class="tab-pane fade" id="approved-docs" role="tabpanel" aria-labelledby="approved-tab">
                    <!-- Approved Document 1 -->
                    <div class="document-card verified">
                        <div class="document-header">
                            <div>
                                <h5 class="mb-0">Invoice: INV-TECH-3456</h5>
                                <small class="text-muted">Network Solutions Inc. - Networking Equipment</small>
                            </div>
                            <span class="badge bg-success status-badge">Approved</span>
                        </div>
                        <div class="document-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Submission Date:</strong> May 15, 2025</p>
                                    <p class="mb-1"><strong>Approved Date:</strong> May 18, 2025</p>
                                    <p class="mb-1"><strong>Approved By:</strong> Emily Chen</p>
                                    <p class="mb-0"><strong>Document Type:</strong> Invoice</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Invoice Amount:</strong> $3,450.00</p>
                                    <p class="mb-1"><strong>Payment Status:</strong> Paid</p>
                                    <p class="mb-1"><strong>Payment Date:</strong> May 20, 2025</p>
                                    <p class="mb-0"><strong>Budget Code:</strong> IT-NETW-2025</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Note:</strong> All documentation complies with company policy.</p>
                                    <p class="mb-0"><strong>Approval Comment:</strong> Verified against purchase order PO-2025-0287. All items received.</p>
                                </div>
                            </div>
                        </div>
                        <div class="document-footer">
                            <div class="d-flex justify-content-end">
                                <button class="btn btn-outline-secondary">
                                    <i class="fas fa-eye me-1"></i> View Details
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- More approved documents would be listed here -->
                    <p class="text-muted text-center mt-4 mb-0">Showing 1 of 45 approved documents. <a href="#">Show more</a></p>
                </div>
                
                <!-- Rejected Documents Tab -->
                <div class="tab-pane fade" id="rejected-docs" role="tabpanel" aria-labelledby="rejected-tab">
                    <!-- Rejected Document 1 -->
                    <div class="document-card rejected">
                        <div class="document-header">
                            <div>
                                <h5 class="mb-0">Expense Claim: EXP-2025-0098</h5>
                                <small class="text-muted">David Johnson - Business Travel Expenses</small>
                            </div>
                            <span class="badge bg-danger status-badge">Rejected</span>
                        </div>
                        <div class="document-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Submission Date:</strong> May 10, 2025</p>
                                    <p class="mb-1"><strong>Rejected Date:</strong> May 12, 2025</p>
                                    <p class="mb-1"><strong>Rejected By:</strong> Emily Chen</p>
                                    <p class="mb-0"><strong>Document Type:</strong> Expense Claim</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Claim Amount:</strong> $2,345.00</p>
                                    <p class="mb-1"><strong>Department:</strong> Sales</p>
                                    <p class="mb-0"><strong>Budget Code:</strong> SALES-TRAVEL-2025</p>
                                </div>
                                <div class="col-md-4">
                                    <p class="mb-1"><strong>Rejection Reason:</strong> Missing receipts for hotel expenses. Certain expenses exceed policy limits.</p>
                                    <p class="mb-0"><strong>Status:</strong> Returned to submitter for correction</p>
                                </div>
                            </div>
                        </div>
                        <div class="document-footer">
                            <div class="d-flex justify-content-end">
                                <button class="btn btn-outline-secondary me-2">
                                    <i class="fas fa-eye me-1"></i> View Details
                                </button>
                                <button class="btn btn-outline-primary">
                                    <i class="fas fa-redo-alt me-1"></i> View Resubmission
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- More rejected documents would be listed here -->
                    <p class="text-muted text-center mt-4 mb-0">Showing 1 of 3 rejected documents. <a href="#">Show more</a></p>
                </div>
            </div>
        </div>
        
        <!-- Recent Activity -->
        <div class="content-container">
            <h3 class="mb-4">Recent Activity</h3>
            
            <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-start">
                    <div class="ms-2 me-auto">
                        <div class="fw-bold">Approved Invoice INV-TECH-3456</div>
                        <span class="text-muted">Network Solutions Inc. - Networking Equipment</span>
                    </div>
                    <span class="text-muted">Today, 10:23 AM</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-start">
                    <div class="ms-2 me-auto">
                        <div class="fw-bold">Added comment to Contract CONT-2025-0127</div>
                        <span class="text-muted">Requested additional documentation for vendor verification</span>
                    </div>
                    <span class="text-muted">Yesterday, 4:45 PM</span>
                </li>
                <li class="list-group-item d-flex justify-content-between align-items-start">
                    <div class="ms-2 me-auto">
                        <div class="fw-bold">Rejected Expense Claim EXP-2025-0098</div>
                        <span class="text-muted">David Johnson - Missing receipts for hotel expenses</span>
                    </div>
                    <span class="text-muted">May 12, 2025</span>
                </li>
            </ul>
        </div>
        
        <!-- Approve Modal -->
        <div class="modal fade" id="approveModal" tabindex="-1" aria-labelledby="approveModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bg-success text-white">
                        <h5 class="modal-title" id="approveModalLabel">Approve Document</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <h6>Contract: CONT-2025-0128</h6>
                        <p class="text-muted">TechPro Solutions - IT Equipment Purchase - $7,500.00</p>
                        
                        <div class="mb-3">
                            <label for="approvalComments" class="form-label">Approval Comments</label>
                            <textarea class="form-control" id="approvalComments" rows="3" placeholder="Enter any comments about this approval..."></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label for="accountCode" class="form-label required-field">Account Code</label>
                            <input type="text" class="form-control" id="accountCode" value="IT-EQUIP-2025">
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label required-field">Digital Signature</label>
                            <div class="signature-pad" id="approvalSignaturePad">
                                <span id="approvalSignatureText">Click here to sign</span>
                            </div>
                            <button class="btn btn-sm btn-outline-secondary" id="clearApprovalSignatureBtn">Clear Signature</button>
                        </div>
                        
                        <div class="form-check mb-3">
                            <input class="form-check-input" type="checkbox" id="approvalCheck">
                            <label class="form-check-label" for="approvalCheck">
                                I confirm that all documents have been verified and comply with company policy.
                            </label>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-success" id="confirmApproval">Confirm Approval</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Reject Modal -->
        <div class="modal fade" id="rejectModal" tabindex="-1" aria-labelledby="rejectModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header bg-danger text-white">
                        <h5 class="modal-title" id="rejectModalLabel">Reject Document</h5>
                        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <h6>Contract: CONT-2025-0128</h6>
                        <p class="text-muted">TechPro Solutions - IT Equipment Purchase - $7,500.00</p>
                        
                        <div class="mb-3">
                            <label for="rejectionReason" class="form-label required-field">Rejection Reason</label>
                            <select class="form-select" id="rejectionReason">
                                <option value="" selected disabled>Select a reason</option>
                                <option value="incomplete">Incomplete Documentation</option>
                                <option value="policy">Does Not Comply with Policy</option>
                                <option value="budget">Exceeds Budget</option>
                                <option value="approval">Missing Required Approvals</option>
                                <option value="other">Other (Please Specify)</option>
                            </select>
                        </div>
                        
                        <div class="mb-3">
                            <label for="rejectionComments" class="form-label required-field">Detailed Explanation</label>
                            <textarea class="form-control" id="rejectionComments" rows="3" placeholder="Provide a detailed explanation for the rejection..."></textarea>
                        </div>
                        
                        <div class="mb-3">
                            <label class="form-label required-field">Digital Signature</label>
                            <div class="signature-pad" id="rejectionSignaturePad">
                                <span id="rejectionSignatureText">Click here to sign</span>
                            </div>
                            <button class="btn btn-sm btn-outline-secondary" id="clearRejectionSignatureBtn">Clear Signature</button>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-danger" id="confirmRejection">Confirm Rejection</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Document Details Modal -->
        <div class="modal fade" id="documentDetailsModal" tabindex="-1" aria-labelledby="documentDetailsModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-xl">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="documentDetailsModalLabel">Document Details</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <ul class="nav nav-tabs" id="documentDetailsTabs" role="tablist">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="summary-tab" data-bs-toggle="tab" data-bs-target="#summary" type="button" role="tab" aria-selected="true">Summary</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="contract-tab" data-bs-toggle="tab" data-bs-target="#contract" type="button" role="tab" aria-selected="false">Contract</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="invoice-tab" data-bs-toggle="tab" data-bs-target="#invoice" type="button" role="tab" aria-selected="false">Invoice</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="document-history-tab" data-bs-toggle="tab" data-bs-target="#document-history" type="button" role="tab" aria-selected="false">History</button>
                            </li>
                        </ul>
                        
                        <div class="tab-content p-3" id="documentDetailsTabContent">
                            <!-- Summary Tab -->
                            <div class="tab-pane fade show active" id="summary" role="tabpanel" aria-labelledby="summary-tab">
                                <div class="row">
                                    <div class="col-md-6">
                                        <h5>Contract Information</h5>
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <th style="width:30%">Contract ID</th>
                                                    <td>CONT-2025-0128</td>
                                                </tr>
                                                <tr>
                                                    <th>Supplier</th>
                                                    <td>TechPro Solutions</td>
                                                </tr>
                                                <tr>
                                                    <th>Contract Date</th>
                                                    <td>June 5, 2025</td>
                                                </tr>
                                                <tr>
                                                    <th>Contract Value</th>
                                                    <td>$7,500.00</td>
                                                </tr>
                                                <tr>
                                                    <th>Payment Terms</th>
                                                    <td>Net 30</td>
                                                </tr>
                                                <tr>
                                                    <th>Due Date</th>
                                                    <td>July 5, 2025</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <div class="col-md-6">
                                        <h5>Request Information</h5>
                                        <table class="table table-bordered">
                                            <tbody>
                                                <tr>
                                                    <th style="width:30%">Request ID</th>
                                                    <td>REQ-2025-0542</td>
                                                </tr>
                                                <tr>
                                                    <th>Requester</th>
                                                    <td>John Smith</td>
                                                </tr>
                                                <tr>
                                                    <th>Department</th>
                                                    <td>IT</td>
                                                </tr>
                                                <tr>
                                                    <th>Budget Code</th>
                                                    <td>IT-EQUIP-2025</td>
                                                </tr>
                                                <tr>
                                                    <th>Approved By</th>
                                                    <td>Mark Wilson (IT Manager)</td>
                                                </tr>
                                                <tr>
                                                    <th>Approval Date</th>
                                                    <td>May 26, 2025</td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                
                                <h5 class="mt-4">Contract Items</h5>
                                <div class="mb-4">
                                    <div class="card border-primary">
                                        <div class="card-header bg-primary text-white text-center">
                                            <h6 class="mb-0">
                                                <i class="fas fa-image me-2"></i>Product Details & Specifications
                                            </h6>
                                            <small>Information provided by requester</small>
                                        </div>
                                        <div class="card-body">
                                            <div class="text-center">
                                                <img src="img.img" 
                                                     alt="Product Specification Image" 
                                                     class="img-fluid" 
                                                     onclick="enlargeImage(this)"
                                                     title="Click to enlarge"
                                                     style="max-height: 200px; cursor: pointer; border-radius: 8px;">
                                                <div class="mt-2">
                                                    <small class="text-muted">
                                                        <i class="fas fa-click me-1"></i>Click image to enlarge
                                                    </small>
                                                </div>
                                            </div>
                                            <div class="mt-3">
                                                <div class="alert alert-info">
                                                    <i class="fas fa-info-circle me-2"></i>
                                                    <strong>Total Contract Value:</strong> $7,500.00
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <h5 class="mt-4">Review Checklist</h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="checkContract">
                                            <label class="form-check-label" for="checkContract">
                                                Contract properly authorized and signed
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="checkBudget">
                                            <label class="form-check-label" for="checkBudget">
                                                Budget allocation verified
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="checkPricing">
                                            <label class="form-check-label" for="checkPricing">
                                                Pricing matches approved quote
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-6">
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="checkSupplier">
                                            <label class="form-check-label" for="checkSupplier">
                                                Supplier verified in approved vendor list
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="checkApprovals">
                                            <label class="form-check-label" for="checkApprovals">
                                                All required approvals obtained
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="checkDocumentation">
                                            <label class="form-check-label" for="checkDocumentation">
                                                All required documentation attached
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Contract Tab - Would contain an embedded PDF viewer -->
                            <div class="tab-pane fade" id="contract" role="tabpanel" aria-labelledby="contract-tab">
                                <div class="text-center py-5">
                                    <p class="text-muted">Contract document would be displayed here</p>
                                    <button class="btn btn-primary">
                                        <i class="fas fa-download me-1"></i> Download Contract PDF
                                    </button>
                                </div>
                            </div>
                            
                            <!-- Invoice Tab - Would contain an embedded PDF viewer -->
                            <div class="tab-pane fade" id="invoice" role="tabpanel" aria-labelledby="invoice-tab">
                                <div class="text-center py-5">
                                    <p class="text-muted">Invoice document would be displayed here</p>
                                    <button class="btn btn-primary">
                                        <i class="fas fa-download me-1"></i> Download Invoice PDF
                                    </button>
                                </div>
                            </div>
                            
                            <!-- History Tab -->
                            <div class="tab-pane fade" id="document-history" role="tabpanel" aria-labelledby="document-history-tab">
                                <div class="table-responsive">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Action</th>
                                                <th>User</th>
                                                <th>Comments</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>May 29, 2025</td>
                                                <td>Submitted for Review</td>
                                                <td>Sarah Johnson</td>
                                                <td>Initial submission for accounting review</td>
                                            </tr>
                                            <tr>
                                                <td>May 28, 2025</td>
                                                <td>Document Created</td>
                                                <td>Sarah Johnson</td>
                                                <td>Contract created and signed with supplier</td>
                                            </tr>
                                            <tr>
                                                <td>May 26, 2025</td>
                                                <td>Request Approved</td>
                                                <td>Mark Wilson</td>
                                                <td>Purchase request approved for procurement</td>
                                            </tr>
                                            <tr>
                                                <td>May 25, 2025</td>
                                                <td>Request Created</td>
                                                <td>John Smith</td>
                                                <td>Initial purchase request submitted</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" class="btn btn-danger me-2">Reject</button>
                        <button type="button" class="btn btn-success">Approve</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Success Message -->
        <div class="alert alert-success" id="success-alert" style="display:none;">
            <h4 class="alert-heading"><i class="fas fa-check-circle me-2"></i> Success!</h4>
            <p id="successMessage">Document has been approved.</p>
        </div>

        <!-- Error Message -->
        <div class="alert alert-danger" id="error-alert" style="display:none;">
            <h4 class="alert-heading"><i class="fas fa-exclamation-circle me-2"></i> Error!</h4>
            <p id="errorMessage">An error occurred. Please try again.</p>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Signature pad functionality for approval
            const approvalSignaturePad = document.getElementById('approvalSignaturePad');
            const approvalSignatureText = document.getElementById('approvalSignatureText');
            const clearApprovalSignatureBtn = document.getElementById('clearApprovalSignatureBtn');
            
            if (approvalSignaturePad) {
                approvalSignaturePad.addEventListener('click', function() {
                    if (!this.classList.contains('signed')) {
                        this.classList.add('signed');
                        approvalSignatureText.textContent = 'Emily Chen';
                    }
                });
                
                clearApprovalSignatureBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    approvalSignaturePad.classList.remove('signed');
                    approvalSignatureText.textContent = 'Click here to sign';
                });
            }
            
            // Signature pad functionality for rejection
            const rejectionSignaturePad = document.getElementById('rejectionSignaturePad');
            const rejectionSignatureText = document.getElementById('rejectionSignatureText');
            const clearRejectionSignatureBtn = document.getElementById('clearRejectionSignatureBtn');
            
            if (rejectionSignaturePad) {
                rejectionSignaturePad.addEventListener('click', function() {
                    if (!this.classList.contains('signed')) {
                        this.classList.add('signed');
                        rejectionSignatureText.textContent = 'Emily Chen';
                    }
                });
                
                clearRejectionSignatureBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    rejectionSignaturePad.classList.remove('signed');
                    rejectionSignatureText.textContent = 'Click here to sign';
                });
            }
            
            // Confirm Approval button
            const confirmApprovalBtn = document.getElementById('confirmApproval');
            if (confirmApprovalBtn) {
                confirmApprovalBtn.addEventListener('click', function() {
                    const approvalCheck = document.getElementById('approvalCheck');
                    const signatureProvided = approvalSignaturePad.classList.contains('signed');
                    
                    if (!approvalCheck.checked || !signatureProvided) {
                        document.getElementById('errorMessage').textContent = 
                            'Please check the confirmation box and provide your signature before approving.';
                        document.getElementById('error-alert').style.display = 'block';
                        setTimeout(function() {
                            document.getElementById('error-alert').style.display = 'none';
                        }, 5000);
                        return;
                    }
                    
                    // Close the modal
                    const approveModal = bootstrap.Modal.getInstance(document.getElementById('approveModal'));
                    approveModal.hide();
                      // Get request ID from URL parameters
                    const urlParams = new URLSearchParams(window.location.search);
                    const requestId = urlParams.get('requestId') || 'Unknown';
                    
                    // Show success message
                    document.getElementById('successMessage').innerHTML = 
                        `Contract for Request #${requestId} has been approved successfully.<br>
                        <div class="mt-3">
                            <button type="button" class="btn btn-primary btn-sm me-2" onclick="location.href='confirmation_page.html?requestId=${requestId}'">
                                <i class="fas fa-file-signature me-1"></i>Director Confirmation
                            </button>
                            <button type="button" class="btn btn-outline-secondary btn-sm me-2" onclick="location.href='contract_creation_form.html?requestId=${requestId}'">
                                <i class="fas fa-file-contract me-1"></i>View Contract
                            </button>
                            <button type="button" class="btn btn-outline-primary btn-sm" onclick="location.href='request_list.html'">
                                <i class="fas fa-home me-1"></i>Back to Request List
                            </button>
                        </div>`;
                    document.getElementById('success-alert').style.display = 'block';
                    
                    // Scroll to success message
                    document.getElementById('success-alert').scrollIntoView({behavior: 'smooth'});
                    
                    // Update UI to reflect the approval (in a real app)
                    const documentCard = document.querySelector('.document-card.pending');
                    if (documentCard) {
                        documentCard.classList.remove('pending');
                        documentCard.classList.add('verified');
                        const badge = documentCard.querySelector('.status-badge');
                        if (badge) {
                            badge.className = 'badge bg-success status-badge';
                            badge.textContent = 'Approved';
                        }
                    }
                });
            }
            
            // Confirm Rejection button
            const confirmRejectionBtn = document.getElementById('confirmRejection');
            if (confirmRejectionBtn) {
                confirmRejectionBtn.addEventListener('click', function() {
                    const rejectionReason = document.getElementById('rejectionReason');
                    const rejectionComments = document.getElementById('rejectionComments');
                    const signatureProvided = rejectionSignaturePad.classList.contains('signed');
                    
                    if (rejectionReason.value === '' || rejectionComments.value.trim() === '' || !signatureProvided) {
                        document.getElementById('errorMessage').textContent = 
                            'Please select a rejection reason, provide comments, and add your signature.';
                        document.getElementById('error-alert').style.display = 'block';
                        setTimeout(function() {
                            document.getElementById('error-alert').style.display = 'none';
                        }, 5000);
                        return;
                    }
                    
                    // Close the modal
                    const rejectModal = bootstrap.Modal.getInstance(document.getElementById('rejectModal'));
                    rejectModal.hide();
                    
                    // Show success message
                    document.getElementById('successMessage').innerHTML = 
                        `Contract CONT-2025-0128 has been rejected and returned for corrections.<br>
                        <div class="mt-3">
                            <button type="button" class="btn btn-primary btn-sm me-2" onclick="location.reload()">
                                <i class="fas fa-redo-alt me-1"></i>Refresh List
                            </button>
                            <button type="button" class="btn btn-outline-primary btn-sm" onclick="location.href='purchase_list.html'">
                                <i class="fas fa-home me-1"></i>Go to Purchase Hub
                            </button>
                        </div>`;
                    document.getElementById('success-alert').style.display = 'block';
                    
                    // Scroll to success message
                    document.getElementById('success-alert').scrollIntoView({behavior: 'smooth'});
                    
                    // Update UI to reflect the rejection (in a real app)
                    const documentCard = document.querySelector('.document-card.pending');
                    if (documentCard) {
                        documentCard.classList.remove('pending');
                        documentCard.classList.add('rejected');
                        const badge = documentCard.querySelector('.status-badge');
                        if (badge) {
                            badge.className = 'badge bg-danger status-badge';
                            badge.textContent = 'Rejected';
                        }
                    }
                });
            }        });
    </script>
    
    <script>
        // Handle nested dropdowns in sidebar
        document.addEventListener('DOMContentLoaded', function() {
            // Setup for submenus
            const subMenuToggleButtons = document.querySelectorAll('.dropdown-item.dropdown-toggle');
            
            subMenuToggleButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    // Find the nearest submenu to this toggle button
                    const submenu = this.nextElementSibling;
                    
                    // Toggle the show class on this submenu
                    submenu.classList.toggle('show');
                    
                    // Close other submenus at the same level
                    const siblings = Array.from(this.parentElement.parentElement.children)
                        .filter(child => child !== this.parentElement)
                        .map(child => child.querySelector('.dropdown-submenu'))
                        .filter(Boolean);
                    
                    siblings.forEach(sibling => {
                        sibling.classList.remove('show');
                    });
                });
            });
            
            // Close submenus when clicking outside
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.dropdown-submenu') && !e.target.classList.contains('dropdown-toggle')) {
                    document.querySelectorAll('.dropdown-submenu.show').forEach(menu => {
                        menu.classList.remove('show');
                    });
                }
            });
        });
        
        // Function to enlarge product specification image
        function enlargeImage(img) {
            const modal = document.createElement('div');
            modal.className = 'modal fade';
            modal.innerHTML = `
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title">Product Specification Image</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center">
                            <img src="${img.src}" alt="${img.alt}" class="img-fluid" style="max-height: 70vh;">
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
            const bsModal = new bootstrap.Modal(modal);
            bsModal.show();
            
            // Remove modal from DOM when hidden
            modal.addEventListener('hidden.bs.modal', function() {
                document.body.removeChild(modal);
            });
        }
    </script>
</body>
</html>
